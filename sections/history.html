<div class="content-section">
    <h2 class="section-title">
        <i class="fas fa-history" style="margin-right: 10px; color: #667eea;"></i>
        Riwayat Peminjaman
    </h2>
    
    <!-- Summary Cards for History Stats -->
    <div class="stats-grid" style="margin-bottom: 30px;">
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-book"></i>
            </div>
            <div class="stat-number">45</div>
            <div class="stat-label">Total Peminjaman</div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            <div class="stat-number">42</div>
            <div class="stat-label">Selesai Tepat Waktu</div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-exclamation-triangle"></i>
            </div>
            <div class="stat-number">3</div>
            <div class="stat-label">Terlambat</div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-star"></i>
            </div>
            <div class="stat-number">4.5</div>
            <div class="stat-label">Rating Rata-rata</div>
        </div>
    </div>

    <!-- Filters -->
    <div class="filters" style="background: #f8f9ff; padding: 20px; border-radius: 10px; margin-bottom: 30px; display: flex; justify-content: space-between; flex-wrap: wrap; gap: 15px; align-items: end;">
        <select id="yearFilter" style="padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
            <option value="">Semua Tahun</option>
            <option value="2025">2025</option>
            <option value="2024">2024</option>
            <option value="2023">2023</option>
        </select>
        <select id="statusFilter" style="padding: 10px; border: 1px solid #ddd; border-radius: 8px;">
            <option value="">Semua Status</option>
            <option value="dikembalikan">Dikembalikan</option>
            <option value="terlambat">Terlambat</option>
            <option value="batal">Dibatalkan</option>
        </select>
        <button class="action-btn" style="padding: 10px 20px;" onclick="filterHistory()">
            <i class="fas fa-filter"></i> Filter Riwayat
        </button>
        <button class="action-btn" style="padding: 10px 20px; background: #28a745;" onclick="exportHistory()">
            <i class="fas fa-download"></i> Ekspor ke PDF
        </button>
    </div>

    <!-- History Table -->
    <div class="history-table" style="background: #f8f9ff; padding: 20px; border-radius: 10px; overflow-x: auto;">
        <h3 style="margin-bottom: 20px; color: #333; display: flex; align-items: center;">
            <i class="fas fa-list" style="margin-right: 10px; color: #667eea;"></i>
            Daftar Riwayat Peminjaman
        </h3>
        <table style="width: 100%; border-collapse: collapse; font-size: 14px;">
            <thead>
                <tr style="background: linear-gradient(45deg, #667eea, #764ba2); color: white;">
                    <th style="padding: 12px; text-align: left; border-radius: 8px 0 0 0;">Judul Buku</th>
                    <th style="padding: 12px; text-align: left;">Tanggal Pinjam</th>
                    <th style="padding: 12px; text-align: left;">Tanggal Kembali</th>
                    <th style="padding: 12px; text-align: left;">Status</th>
                    <th style="padding: 12px; text-align: center; border-radius: 0 8px 0 0;">Rating & Ulasan</th>
                </tr>
            </thead>
            <tbody>
                <tr style="border-bottom: 1px solid #ddd;">
                    <td style="padding: 12px;"><strong>Pemrograman Python</strong><br><small>Oleh: Guido van Rossum</small></td>
                    <td style="padding: 12px;">01 Aug 2025</td>
                    <td style="padding: 12px;">08 Aug 2025</td>
                    <td style="padding: 12px;"><span style="background: #4caf50; color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px;">Dikembalikan Tepat Waktu</span></td>
                    <td style="padding: 12px; text-align: center;">
                        <span style="color: #ffc107;">★★★★☆</span><br>
                        <button class="action-btn" style="padding: 4px 8px; font-size: 12px; margin-top: 5px;" onclick="addReview('book1')">Ulasan</button>
                    </td>
                </tr>
                <tr style="border-bottom: 1px solid #ddd;">
                    <td style="padding: 12px;"><strong>Fisika Kuantum</strong><br><small>Oleh: Richard Feynman</small></td>
                    <td style="padding: 12px;">15 Jul 2025</td>
                    <td style="padding: 12px;">20 Jul 2025</td>
                    <td style="padding: 12px;"><span style="background: #ff9800; color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px;">Terlambat (Denda: Rp15.000)</span></td>
                    <td style="padding: 12px; text-align: center;">
                        <span style="color: #ffc107;">★★★☆☆</span><br>
                        <button class="action-btn" style="padding: 4px 8px; font-size: 12px; margin-top: 5px;" onclick="addReview('book2')">Ulasan</button>
                    </td>
                </tr>
                <tr style="border-bottom: 1px solid #ddd;">
                    <td style="padding: 12px;"><strong>Manajemen Proyek</strong><br><small>Oleh: PMI</small></td>
                    <td style="padding: 12px;">10 Jun 2025</td>
                    <td style="padding: 12px;">17 Jun 2025</td>
                    <td style="padding: 12px;"><span style="background: #4caf50; color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px;">Dikembalikan</span></td>
                    <td style="padding: 12px; text-align: center;">
                        <span style="color: #ffc107;">★★★★★</span><br>
                        <button class="action-btn" style="padding: 4px 8px; font-size: 12px; margin-top: 5px;" onclick="addReview('book3')">Ulasan</button>
                    </td>
                </tr>
                <tr style="border-bottom: 1px solid #ddd;">
                    <td style="padding: 12px;"><strong>Puisi Modern</strong><br><small>Oleh: Chairil Anwar</small></td>
                    <td style="padding: 12px;">05 Mei 2025</td>
                    <td style="padding: 12px;">N/A</td>
                    <td style="padding: 12px;"><span style="background: #f44336; color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px;">Dibatalkan</span></td>
                    <td style="padding: 12px; text-align: center;">-</td>
                </tr>
            </tbody>
        </table>
        <p style="margin-top: 15px; color: #666; font-size: 14px;">* Riwayat menampilkan data 1 tahun terakhir. Hubungi admin untuk arsip lebih lama.</p>
    </div>

    <!-- Pagination -->
    <div style="text-align: center; margin-top: 30px;">
        <button class="action-btn" style="padding: 10px 20px; margin: 0 5px;">Sebelumnya</button>
        <span style="font-weight: bold; margin: 0 10px;">Halaman 1 dari 5</span>
        <button class="action-btn" style="padding: 10px 20px; margin: 0 5px;">Selanjutnya</button>
    </div>
</div>

<script>
    // Contoh JS sederhana untuk filter dan aksi
    function filterHistory() {
        const year = document.getElementById('yearFilter').value;
        const status = document.getElementById('statusFilter').value;
        alert(`Menyaring riwayat: Tahun ${year || 'semua'}, Status ${status || 'semua'}. (Implementasikan AJAX untuk filter real)`);
        // Di sini bisa tambahkan logika filter tabel
    }

    function addReview(bookId) {
        const review = prompt(`Beri ulasan untuk buku ID: ${bookId} (1-5 bintang):`);
        if (review) {
            alert(`Ulasan "${review}" berhasil ditambahkan!`);
        }
    }
</script>