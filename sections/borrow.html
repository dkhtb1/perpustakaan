<div class="content-section">
    <h2 class="section-title">
        <i class="fas fa-bookmark" style="margin-right: 10px; color: #667eea;"></i>
        Peminjaman Buku
    </h2>
    
    <!-- Summary Cards for Borrowing Status -->
    <div class="stats-grid" style="margin-bottom: 30px;">
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-book-open"></i>
            </div>
            <div class="stat-number">3</div>
            <div class="stat-label">Buku Dipinjam Saat Ini</div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-clock"></i>
            </div>
            <div class="stat-number">1</div>
            <div class="stat-label">Hampir Jatuh Tempo (dalam 3 hari)</div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-calendar-check"></i>
            </div>
            <div class="stat-number">7</div>
            <div class="stat-label">Hari Peminjaman Maksimal</div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">
                <i class="fas fa-exclamation-triangle"></i>
            </div>
            <div class="stat-number">0</div>
            <div class="stat-label">Denda Tertunggak</div>
        </div>
    </div>

    <!-- Current Borrowings Table -->
    <div class="current-borrowings" style="background: #f8f9ff; padding: 20px; border-radius: 10px; margin-bottom: 30px;">
        <h3 style="margin-bottom: 20px; color: #333; display: flex; align-items: center;">
            <i class="fas fa-list" style="margin-right: 10px; color: #667eea;"></i>
            Peminjaman Aktif
        </h3>
        <div style="overflow-x: auto;">
            <table style="width: 100%; border-collapse: collapse; font-size: 14px;">
                <thead>
                    <tr style="background: linear-gradient(45deg, #667eea, #764ba2); color: white;">
                        <th style="padding: 12px; text-align: left; border-radius: 8px 0 0 0;">Judul Buku</th>
                        <th style="padding: 12px; text-align: left;">Tanggal Pinjam</th>
                        <th style="padding: 12px; text-align: left;">Jatuh Tempo</th>
                        <th style="padding: 12px; text-align: left;">Status</th>
                    </tr>
                </thead>
                <tbody>
                    <tr style="border-bottom: 1px solid #ddd;">
                        <td style="padding: 12px;"><strong>Algoritma dan Struktur Data</strong><br><small>Oleh: Donald Knuth</small></td>
                        <td style="padding: 12px;">20 Sep 2025</td>
                        <td style="padding: 12px;"><span style="color: #ff6b6b; font-weight: bold;">27 Sep 2025</span></td>
                        <td style="padding: 12px;"><span style="background: #ffeb3b; color: #333; padding: 4px 8px; border-radius: 4px; font-size: 12px;">Hampir Jatuh Tempo</span></td>
                        <td style="padding: 12px; text-align: center;">
                        </td>
                    </tr>
                    <tr style="border-bottom: 1px solid #ddd;">
                        <td style="padding: 12px;"><strong>Machine Learning untuk Pemula</strong><br><small>Oleh: Andrew Ng</small></td>
                        <td style="padding: 12px;">15 Sep 2025</td>
                        <td style="padding: 12px;">22 Sep 2025</td>
                        <td style="padding: 12px;"><span style="background: #4caf50; color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px;">Aktif</span></td>
                        <td style="padding: 12px; text-align: center;">
                        </td>
                    </tr>
                    <tr style="border-bottom: 1px solid #ddd;">
                        <td style="padding: 12px;"><strong>Sejarah Peradaban</strong><br><small>Oleh: Will Durant</small></td>
                        <td style="padding: 12px;">10 Sep 2025</td>
                        <td style="padding: 12px;">17 Sep 2025</td>
                        <td style="padding: 12px;"><span style="background: #ff9800; color: white; padding: 4px 8px; border-radius: 4px; font-size: 12px;">Terlambat</span></td>
                        <td style="padding: 12px; text-align: center;">
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <p style="margin-top: 15px; color: #666; font-size: 14px;">* Jika buku terlambat dikembalikan, denda Rp5.000/hari akan dikenakan.</p>
    </div>

    <!-- Borrow New Book Form -->
    <div class="borrow-form" style="background: #f8f9ff; padding: 20px; border-radius: 10px; margin-bottom: 30px;">
        <h3 style="margin-bottom: 20px; color: #333; display: flex; align-items: center;">
            <i class="fas fa-plus-circle" style="margin-right: 10px; color: #667eea;"></i>
            Pinjam Buku Baru
        </h3>
        <form id="borrowForm">
            <div style="display: grid; grid-template-columns: 1fr auto; gap: 15px; align-items: end; margin-bottom: 15px;">
                <input type="text" id="bookId" placeholder="Masukkan ID Buku atau Judul (contoh: BK001)" 
                       style="padding: 12px; border: 1px solid #ddd; border-radius: 8px; font-size: 16px; flex: 1;">
                <button type="submit" class="action-btn" style="width: auto; padding: 12px 20px;">
                    <i class="fas fa-bookmark"></i> Ajukan Peminjaman
                </button>
            </div>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 15px;">
                <select id="borrowDuration" style="padding: 12px; border: 1px solid #ddd; border-radius: 8px;">
                    <option value="7">Pinjam 7 Hari</option>
                    <option value="14">Pinjam 14 Hari</option>
                    <option value="30">Pinjam 30 Hari (khusus anggota premium)</option>
                </select>
                <input type="checkbox" id="agreeTerms" style="margin-right: 8px;">
                <label for="agreeTerms" style="font-size: 14px; color: #555;">Saya setuju dengan syarat dan ketentuan perpustakaan</label>
            </div>
        </form>
        <p style="color: #666; font-size: 14px; margin-top: 10px;">* Pastikan buku tersedia di katalog sebelum mengajukan peminjaman. Maksimal 5 buku sekaligus.</p>
    </div>

    <!-- Notifications -->
    <div class="notifications" style="background: #fff3cd; border: 1px solid #ffeaa7; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
        <h4 style="color: #856404; margin-bottom: 10px; display: flex; align-items: center;">
            <i class="fas fa-info-circle" style="margin-right: 10px;"></i>
            Pemberitahuan
        </h4>
        <ul style="color: #856404; font-size: 14px; list-style-type: none; padding: 0;">
            <li><i class="fas fa-check" style="color: #28a745; margin-right: 8px;"></i>Peminjaman "Sejarah Peradaban" telah disetujui.</li>
            <li><i class="fas fa-exclamation-triangle" style="color: #ee0707; margin-right: 8px;"></i>Harap diingat, peminjaman bersifat prioritas â€” siapa yang lebih cepat, dia yang berhak mendapatkan buku terlebih dahulu.</li>
            <li><i class="fas fa-exclamation-triangle" style="color: #ffc107; margin-right: 8px;"></i>Ingatkan: 1 buku hampir jatuh tempo. Periksa status di atas.</li>
            <li><i class="fas fa-bell" style="color: #17a2b8; margin-right: 8px;"></i>Kuota peminjaman Anda: 2 slot tersisa.</li>
        </ul>
    </div>
</div>

<script>
    // Contoh JS sederhana untuk interaksi form dan tombol (bisa dikembangkan dengan AJAX)
    document.getElementById('borrowForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const bookId = document.getElementById('bookId').value;
        const agree = document.getElementById('agreeTerms').checked;
        if (!bookId || !agree) {
            alert('Silakan masukkan ID buku dan setujui syarat ketentuan.');
            return;
        }
        alert(`Peminjaman untuk buku "${bookId}" telah diajukan! Status akan diperbarui dalam 24 jam.`);
        // Di sini bisa tambahkan fetch ke backend untuk submit real
    });

    // Fungsi contoh untuk tombol aksi (perpanjang/kembalikan)
    function extendBorrow(bookId) {
        if (confirm(`Perpanjang peminjaman untuk buku ID: ${bookId}?`)) {
            alert('Peminjaman berhasil diperpanjang 7 hari lagi!');
        }
    }

    function returnBook(bookId) {
        if (confirm(`Kembalikan buku ID: ${bookId}?`)) {
            alert('Buku berhasil dikembalikan. Terima kasih!');
            // Reload section atau update tabel secara dinamis
            loadContent('borrow'); // Contoh reload section
        }

        
    }
</script>